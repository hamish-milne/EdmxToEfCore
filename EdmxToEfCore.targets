<?xml version="1.0" encoding="utf-8" ?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<UsingTask TaskName="EdmxToEfCoreTask" AssemblyFile="$(MSBuildThisFileDirectory)\EdmxToEfCore.dll" />

	<Target Name="EdmxToEfCoreTarget" BeforeTargets="CoreCompile">
		<EdmxToEfCoreTask InputModels="@EdmxToEfCore" />
	</Target>

	<ItemGroup>
		<EdmxToEfCore Include="*.edmx">
		    <OutputPathPattern>{0}.autogenerated.cs</OutputPathPattern>
			<CollectionType>List</CollectionType>
			<ComplexMetaType>class</ComplexMetaType>
			<FileMode>SingleFile</FileMode>
			<LazyLoading>true</LazyLoading>
		</EdmxToEfCore>
	</ItemGroup>

</Project>